import{s as R,n as Y,o as z,r as G}from"../chunks/scheduler.B4houzoZ.js";import{S as J,i as K,p as j,k as q,d as C,e as _,s as T,c as v,a as O,g as M,b as L,h as p,l,q as W,m as A,r as Q,t as S,f as B,u as F}from"../chunks/index.DlrXzjOH.js";import{s as H}from"../chunks/supabase.DztQxiPM.js";function X(f){let e,n,r,t,a="Email:",i,s,g,c,o,h="Password:",k,u,b,w,x="Sign in",D,d,m='Don&#39;t have an account yet? <a href="/signup">Sign up</a> here!',P,I;return{c(){e=_("div"),n=_("form"),r=_("div"),t=_("label"),t.textContent=a,i=T(),s=_("input"),g=T(),c=_("div"),o=_("label"),o.textContent=h,k=T(),u=_("input"),b=T(),w=_("button"),w.textContent=x,D=T(),d=_("p"),d.innerHTML=m,this.h()},l(y){e=v(y,"DIV",{class:!0});var E=O(e);n=v(E,"FORM",{});var N=O(n);r=v(N,"DIV",{class:!0});var U=O(r);t=v(U,"LABEL",{for:!0,"data-svelte-h":!0}),M(t)!=="svelte-1flf0h4"&&(t.textContent=a),i=L(U),s=v(U,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),U.forEach(C),g=L(N),c=v(N,"DIV",{class:!0});var V=O(c);o=v(V,"LABEL",{for:!0,"data-svelte-h":!0}),M(o)!=="svelte-bhu94"&&(o.textContent=h),k=L(V),u=v(V,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),V.forEach(C),b=L(N),w=v(N,"BUTTON",{type:!0,"data-svelte-h":!0}),M(w)!=="svelte-13remx3"&&(w.textContent=x),N.forEach(C),D=L(E),d=v(E,"P",{"data-svelte-h":!0}),M(d)!=="svelte-nvjowy"&&(d.innerHTML=m),E.forEach(C),this.h()},h(){p(t,"for","email"),p(s,"type","email"),p(s,"name","email"),p(s,"id","email"),p(s,"placeholder","Email"),p(r,"class","form-group"),p(o,"for","password"),p(u,"type","password"),p(u,"name","password"),p(u,"id","password"),p(u,"placeholder","Password"),p(c,"class","form-group"),p(w,"type","submit"),p(e,"class","container")},m(y,E){q(y,e,E),l(e,n),l(n,r),l(r,t),l(r,i),l(r,s),W(s,f[1]),l(n,g),l(n,c),l(c,o),l(c,k),l(c,u),W(u,f[2]),l(n,b),l(n,w),l(e,D),l(e,d),P||(I=[A(s,"input",f[5]),A(u,"input",f[6]),A(n,"submit",Q(f[3]))],P=!0)},p(y,E){E&2&&s.value!==y[1]&&W(s,y[1]),E&4&&u.value!==y[2]&&W(u,y[2])},d(y){y&&C(e),P=!1,G(I)}}}function Z(f){let e,n,r,t=f[0].name+"",a,i,s,g,c,o=f[0].email+"",h,k,u,b,w="sign out",x,D;return{c(){e=_("div"),n=_("h2"),r=S("Welcome, "),a=S(t),i=S("!"),s=T(),g=_("p"),c=S("You are signed in as "),h=S(o),k=S("."),u=T(),b=_("button"),b.textContent=w,this.h()},l(d){e=v(d,"DIV",{class:!0});var m=O(e);n=v(m,"H2",{});var P=O(n);r=B(P,"Welcome, "),a=B(P,t),i=B(P,"!"),P.forEach(C),s=L(m),g=v(m,"P",{});var I=O(g);c=B(I,"You are signed in as "),h=B(I,o),k=B(I,"."),I.forEach(C),u=L(m),b=v(m,"BUTTON",{"data-svelte-h":!0}),M(b)!=="svelte-18mg8yo"&&(b.textContent=w),m.forEach(C),this.h()},h(){p(e,"class","container")},m(d,m){q(d,e,m),l(e,n),l(n,r),l(n,a),l(n,i),l(e,s),l(e,g),l(g,c),l(g,h),l(g,k),l(e,u),l(e,b),x||(D=A(b,"click",f[4]),x=!0)},p(d,m){m&1&&t!==(t=d[0].name+"")&&F(a,t),m&1&&o!==(o=d[0].email+"")&&F(h,o)},d(d){d&&C(e),x=!1,D()}}}function $(f){let e;function n(a,i){return a[0]?Z:X}let r=n(f),t=r(f);return{c(){t.c(),e=j()},l(a){t.l(a),e=j()},m(a,i){t.m(a,i),q(a,e,i)},p(a,[i]){r===(r=n(a))&&t?t.p(a,i):(t.d(1),t=r(a),t&&(t.c(),t.m(e.parentNode,e)))},i:Y,o:Y,d(a){a&&C(e),t.d(a)}}}function ee(f,e,n){let r="",t="",a="";const i=async()=>{const{user:o,error:h}=await H.auth.signInWithPassword({email:t,password:a});h?console.error("Error signing in:",h):window.location.href="/profile"},s=async()=>{const{error:o}=await H.auth.signOut();o?console.error("Error logging out:",o):(n(0,r=null),window.location.href="/login")};z(()=>{H.auth.onAuthStateChange((o,h)=>{n(0,r=(h==null?void 0:h.user)||"")}),window.location.href="/login"});function g(){t=this.value,n(1,t)}function c(){a=this.value,n(2,a)}return[r,t,a,i,s,g,c]}class le extends J{constructor(e){super(),K(this,e,ee,$,R,{})}}export{le as component};
