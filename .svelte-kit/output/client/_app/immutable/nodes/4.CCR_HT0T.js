import{s as te,n as Y,o as le,b as Z,r as se}from"../chunks/scheduler.B4houzoZ.js";import{S as ae,i as ie,e as h,s as V,c as m,a as w,d as v,b as P,h as f,k as j,l as o,t as U,f as H,u as B,g as N,j as x,q as A,m as W,r as ne}from"../chunks/index.DlrXzjOH.js";import{s as G}from"../chunks/supabase.DztQxiPM.js";function re(n){let t,e,r,s,d="Email:",p,l,i,a,c,C="Password:",k,u,_,M,b,g,R="Sign in",O,S,J='<p>Don&#39;t have an account yet? <a href="/signup">Sign up</a> here!</p>',z,T,K="🧐",F,Q,E=n[3]&&$(n);return{c(){t=h("div"),e=h("form"),r=h("div"),s=h("label"),s.textContent=d,p=V(),l=h("input"),i=V(),a=h("div"),c=h("label"),c.textContent=C,k=V(),u=h("input"),_=V(),E&&E.c(),M=V(),b=h("div"),g=h("button"),g.textContent=R,O=V(),S=h("div"),S.innerHTML=J,z=V(),T=h("span"),T.textContent=K,this.h()},l(I){t=m(I,"DIV",{class:!0});var L=w(t);e=m(L,"FORM",{});var D=w(e);r=m(D,"DIV",{class:!0});var q=w(r);s=m(q,"LABEL",{for:!0,"data-svelte-h":!0}),N(s)!=="svelte-1flf0h4"&&(s.textContent=d),p=P(q),l=m(q,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),q.forEach(v),i=P(D),a=m(D,"DIV",{class:!0});var y=w(a);c=m(y,"LABEL",{for:!0,"data-svelte-h":!0}),N(c)!=="svelte-bhu94"&&(c.textContent=C),k=P(y),u=m(y,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),y.forEach(v),_=P(D),E&&E.l(D),M=P(D),b=m(D,"DIV",{class:!0});var X=w(b);g=m(X,"BUTTON",{type:!0,"data-svelte-h":!0}),N(g)!=="svelte-16nziak"&&(g.textContent=R),X.forEach(v),O=P(D),S=m(D,"DIV",{class:!0,"data-svelte-h":!0}),N(S)!=="svelte-1kf3vmm"&&(S.innerHTML=J),z=P(D),T=m(D,"SPAN",{class:!0,"data-svelte-h":!0}),N(T)!=="svelte-1ovdn42"&&(T.textContent=K),D.forEach(v),L.forEach(v),this.h()},h(){f(s,"for","email"),f(l,"type","email"),f(l,"name","email"),f(l,"id","email"),f(l,"placeholder","Email"),f(r,"class","form-group"),f(c,"for","password"),f(u,"type","password"),f(u,"name","password"),f(u,"id","password"),f(u,"placeholder","Password"),f(a,"class","form-group"),f(g,"type","submit"),f(b,"class","form-group"),f(S,"class","form-group"),f(T,"class","emoji"),x(T,"visible",n[5]),f(t,"class","container")},m(I,L){j(I,t,L),o(t,e),o(e,r),o(r,s),o(r,p),o(r,l),A(l,n[0]),o(e,i),o(e,a),o(a,c),o(a,k),o(a,u),A(u,n[1]),o(e,_),E&&E.m(e,null),o(e,M),o(e,b),o(b,g),o(e,O),o(e,S),o(e,z),o(e,T),F||(Q=[W(l,"input",n[9]),W(u,"input",n[10]),W(g,"mouseover",n[6]),W(g,"mouseout",n[7]),W(e,"submit",ne(n[8]))],F=!0)},p(I,L){L&1&&l.value!==I[0]&&A(l,I[0]),L&2&&u.value!==I[1]&&A(u,I[1]),I[3]?E?E.p(I,L):(E=$(I),E.c(),E.m(e,M)):E&&(E.d(1),E=null),L&32&&x(T,"visible",I[5])},d(I){I&&v(t),E&&E.d(),F=!1,se(Q)}}}function oe(n){let t,e,r,s=n[2].email+"",d,p;return{c(){t=h("div"),e=h("h2"),r=U("Welcome, "),d=U(s),p=U("!"),this.h()},l(l){t=m(l,"DIV",{class:!0});var i=w(t);e=m(i,"H2",{});var a=w(e);r=H(a,"Welcome, "),d=H(a,s),p=H(a,"!"),a.forEach(v),i.forEach(v),this.h()},h(){f(t,"class","container")},m(l,i){j(l,t,i),o(t,e),o(e,r),o(e,d),o(e,p)},p(l,i){i&4&&s!==(s=l[2].email+"")&&B(d,s)},d(l){l&&v(t)}}}function $(n){let t,e;return{c(){t=h("div"),e=U(n[3]),this.h()},l(r){t=m(r,"DIV",{class:!0});var s=w(t);e=H(s,n[3]),s.forEach(v),this.h()},h(){f(t,"class","error-message")},m(r,s){j(r,t,s),o(t,e)},p(r,s){s&8&&B(e,r[3])},d(r){r&&v(t)}}}function ee(n){let t,e,r,s,d,p,l=n[4].name+"",i,a,c,C=n[4].description+"",k;return{c(){t=h("img"),s=V(),d=h("div"),p=h("h3"),i=U(l),a=V(),c=h("p"),k=U(C),this.h()},l(u){t=m(u,"IMG",{src:!0,alt:!0}),s=P(u),d=m(u,"DIV",{class:!0});var _=w(d);p=m(_,"H3",{});var M=w(p);i=H(M,l),M.forEach(v),a=P(_),c=m(_,"P",{});var b=w(c);k=H(b,C),b.forEach(v),_.forEach(v),this.h()},h(){Z(t.src,e=n[4].imageUrl)||f(t,"src",e),f(t,"alt",r=n[4].name),f(d,"class","image-details")},m(u,_){j(u,t,_),j(u,s,_),j(u,d,_),o(d,p),o(p,i),o(d,a),o(d,c),o(c,k)},p(u,_){_&16&&!Z(t.src,e=u[4].imageUrl)&&f(t,"src",e),_&16&&r!==(r=u[4].name)&&f(t,"alt",r),_&16&&l!==(l=u[4].name+"")&&B(i,l),_&16&&C!==(C=u[4].description+"")&&B(k,C)},d(u){u&&(v(t),v(s),v(d))}}}function ue(n){let t,e,r,s;function d(a,c){return a[2]?oe:re}let p=d(n),l=p(n),i=n[4]&&ee(n);return{c(){t=h("div"),e=h("div"),l.c(),r=V(),s=h("div"),i&&i.c(),this.h()},l(a){t=m(a,"DIV",{class:!0});var c=w(t);e=m(c,"DIV",{class:!0});var C=w(e);l.l(C),C.forEach(v),r=P(c),s=m(c,"DIV",{class:!0});var k=w(s);i&&i.l(k),k.forEach(v),c.forEach(v),this.h()},h(){f(e,"class","login-form"),f(s,"class","image-container"),f(t,"class","login-page")},m(a,c){j(a,t,c),o(t,e),l.m(e,null),o(t,r),o(t,s),i&&i.m(s,null)},p(a,[c]){p===(p=d(a))&&l?l.p(a,c):(l.d(1),l=p(a),l&&(l.c(),l.m(e,null))),a[4]?i?i.p(a,c):(i=ee(a),i.c(),i.m(s,null)):i&&(i.d(1),i=null)},i:Y,o:Y,d(a){a&&v(t),l.d(),i&&i.d()}}}function fe(n){let t=n.length,e;for(;t!=0;)e=Math.floor(Math.random()*t),t--,[n[t],n[e]]=[n[e],n[t]];return n}function ce(n,t,e){let r="",s="",d=null,p="",l=[],i=null,a=!1,c=()=>{e(5,a=!0)},C=()=>{e(5,a=!1)};const k=async()=>{const{data:b,error:g}=await G.auth.signInWithPassword({email:r,password:s});g?e(3,p="Error signing in: "+g.message):window.location.href="/profile"},u=async()=>{const{data:b,error:g}=await G.from("images").select("*");g?console.error("Error fetching images:",g):(l=fe(b),e(4,i=l[0]))};le(async()=>{const{data:{session:b}}=await G.auth.getSession();e(2,d=(b==null?void 0:b.user)||null),d&&(window.location.href="/profile"),await u(),setTimeout(()=>{e(5,a=!1)},2e3);let g=0;setInterval(()=>{l.length>0&&(e(4,i=l[g]),g=(g+1)%l.length)},5e3)});function _(){r=this.value,e(0,r)}function M(){s=this.value,e(1,s)}return[r,s,d,p,i,a,c,C,k,_,M]}class pe extends ae{constructor(t){super(),ie(this,t,ce,ue,te,{})}}export{pe as component};
