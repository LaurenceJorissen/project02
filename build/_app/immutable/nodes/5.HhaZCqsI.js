import{s as We,n as Ue,o as Xe,r as pe,b as de,d as ke}from"../chunks/scheduler.B4houzoZ.js";import{S as Ye,i as Ze,e as c,c as d,a as L,d as S,h as o,k as ie,t as fe,s as T,f as me,b as D,g as x,l as s,q as le,m as j,u as ge,v as xe,r as $e,j as Se,w as Ce,x as we}from"../chunks/index.DlrXzjOH.js";import{e as Ne}from"../chunks/each.D6YF6ztN.js";import{s as W}from"../chunks/supabase.DztQxiPM.js";function Te(r,t,e){const l=r.slice();return l[52]=t[e],l}function De(r){let t,e,l,m,f,i,v="Settings",n,N,E="Sign Out",u,h,y,w="Search images:",O,b,_,P,B,g,I,J,G,$,M,oe,ee,A=r[15]&&Le(r),se=Ne(r[18]),q=[];for(let k=0;k<se.length;k+=1)q[k]=Pe(Te(r,se,k));let z=r[7]&&qe(r),F=r[11]&&Ve(r),H=r[14]&&Be(r);return{c(){t=c("div"),e=c("h1"),l=fe(r[1]),m=T(),f=c("form"),i=c("button"),i.textContent=v,n=T(),N=c("button"),N.textContent=E,u=T(),h=c("div"),y=c("label"),y.textContent=w,O=T(),b=c("input"),_=T(),A&&A.c(),P=T(),B=c("div"),g=c("div"),I=c("div");for(let k=0;k<q.length;k+=1)q[k].c();J=T(),z&&z.c(),G=T(),F&&F.c(),$=T(),M=c("form"),H&&H.c(),this.h()},l(k){t=d(k,"DIV",{class:!0});var p=L(t);e=d(p,"H1",{});var C=L(e);l=me(C,r[1]),C.forEach(S),m=D(p),f=d(p,"FORM",{class:!0});var K=L(f);i=d(K,"BUTTON",{"data-svelte-h":!0}),x(i)!=="svelte-rwc36s"&&(i.textContent=v),n=D(K),N=d(K,"BUTTON",{"data-svelte-h":!0}),x(N)!=="svelte-10zoo4g"&&(N.textContent=E),K.forEach(S),u=D(p),h=d(p,"DIV",{class:!0});var te=L(h);y=d(te,"LABEL",{for:!0,"data-svelte-h":!0}),x(y)!=="svelte-mcxgse"&&(y.textContent=w),O=D(te),b=d(te,"INPUT",{type:!0,id:!0,placeholder:!0}),te.forEach(S),_=D(p),A&&A.l(p),P=D(p),B=d(p,"DIV",{class:!0});var R=L(B);g=d(R,"DIV",{class:!0});var ve=L(g);I=d(ve,"DIV",{class:!0});var Ie=L(I);for(let he=0;he<q.length;he+=1)q[he].l(Ie);Ie.forEach(S),ve.forEach(S),R.forEach(S),J=D(p),z&&z.l(p),G=D(p),F&&F.l(p),$=D(p),M=d(p,"FORM",{class:!0});var be=L(M);H&&H.l(be),be.forEach(S),p.forEach(S),this.h()},h(){o(f,"class","form-group"),o(y,"for","search"),o(b,"type","text"),o(b,"id","search"),o(b,"placeholder","Search by name"),o(h,"class","search"),o(I,"class","gallery"),o(g,"class","gallery-container"),o(B,"class","profile"),o(M,"class","form-group"),o(t,"class","container")},m(k,p){ie(k,t,p),s(t,e),s(e,l),s(t,m),s(t,f),s(f,i),s(f,n),s(f,N),s(t,u),s(t,h),s(h,y),s(h,O),s(h,b),le(b,r[0]),s(t,_),A&&A.m(t,null),s(t,P),s(t,B),s(B,g),s(g,I);for(let C=0;C<q.length;C+=1)q[C]&&q[C].m(I,null);s(t,J),z&&z.m(t,null),s(t,G),F&&F.m(t,null),s(t,$),s(t,M),H&&H.m(M,null),oe||(ee=[j(i,"click",r[30]),j(N,"click",r[23]),j(b,"input",r[36])],oe=!0)},p(k,p){if(p[0]&2&&ge(l,k[1]),p[0]&1&&b.value!==k[0]&&le(b,k[0]),k[15]?A?A.p(k,p):(A=Le(k),A.c(),A.m(t,P)):A&&(A.d(1),A=null),p[0]&889487360){se=Ne(k[18]);let C;for(C=0;C<se.length;C+=1){const K=Te(k,se,C);q[C]?q[C].p(K,p):(q[C]=Pe(K),q[C].c(),q[C].m(I,null))}for(;C<q.length;C+=1)q[C].d(1);q.length=se.length}k[7]?z?z.p(k,p):(z=qe(k),z.c(),z.m(t,G)):z&&(z.d(1),z=null),k[11]?F?F.p(k,p):(F=Ve(k),F.c(),F.m(t,$)):F&&(F.d(1),F=null),k[14]?H?H.p(k,p):(H=Be(k),H.c(),H.m(M,null)):H&&(H.d(1),H=null)},d(k){k&&S(t),A&&A.d(),xe(q,k),z&&z.d(),F&&F.d(),H&&H.d(),oe=!1,pe(ee)}}}function Le(r){let t,e,l,m="New Username:",f,i,v,n,N="Update Username",E,u,h,y="Select an image:",w,O,b,_,P="Give a name:",B,g,I,J,G="Description:",$,M,oe,ee,A="Upload",se,q,z="Delete Image",F,H,k,p=r[4]&&ye(r);return{c(){t=c("div"),e=c("div"),l=c("label"),l.textContent=m,f=T(),i=c("input"),v=T(),n=c("button"),n.textContent=N,E=T(),u=c("div"),h=c("label"),h.textContent=y,w=T(),O=c("input"),b=T(),_=c("label"),_.textContent=P,B=T(),g=c("input"),I=T(),J=c("label"),J.textContent=G,$=T(),M=c("input"),oe=T(),ee=c("button"),ee.textContent=A,se=T(),q=c("button"),q.textContent=z,F=T(),p&&p.c(),this.h()},l(C){t=d(C,"DIV",{class:!0});var K=L(t);e=d(K,"DIV",{class:!0});var te=L(e);l=d(te,"LABEL",{for:!0,"data-svelte-h":!0}),x(l)!=="svelte-a011aw"&&(l.textContent=m),f=D(te),i=d(te,"INPUT",{type:!0,id:!0}),v=D(te),n=d(te,"BUTTON",{"data-svelte-h":!0}),x(n)!=="svelte-j39es1"&&(n.textContent=N),te.forEach(S),E=D(K),u=d(K,"DIV",{class:!0});var R=L(u);h=d(R,"LABEL",{for:!0,"data-svelte-h":!0}),x(h)!=="svelte-1eqdepc"&&(h.textContent=y),w=D(R),O=d(R,"INPUT",{type:!0,id:!0}),b=D(R),_=d(R,"LABEL",{for:!0,"data-svelte-h":!0}),x(_)!=="svelte-1u3ni6w"&&(_.textContent=P),B=D(R),g=d(R,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),I=D(R),J=d(R,"LABEL",{for:!0,"data-svelte-h":!0}),x(J)!=="svelte-1jjlhqk"&&(J.textContent=G),$=D(R),M=d(R,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),oe=D(R),ee=d(R,"BUTTON",{"data-svelte-h":!0}),x(ee)!=="svelte-11jt8nx"&&(ee.textContent=A),se=D(R),q=d(R,"BUTTON",{"data-svelte-h":!0}),x(q)!=="svelte-g90woj"&&(q.textContent=z),F=D(R),p&&p.l(R),R.forEach(S),K.forEach(S),this.h()},h(){o(l,"for","newUsername"),o(i,"type","text"),o(i,"id","newUsername"),o(e,"class","form-group"),o(h,"for","picture"),o(O,"type","file"),o(O,"id","picture"),o(_,"for","paintingName"),o(g,"type","text"),o(g,"name","paintingName"),o(g,"id","paintingName"),o(g,"placeholder","Painting Name"),o(J,"for","description"),o(M,"type","text"),o(M,"name","description"),o(M,"id","description"),o(M,"placeholder","Description"),o(u,"class","form-group"),o(t,"class","settings")},m(C,K){ie(C,t,K),s(t,e),s(e,l),s(e,f),s(e,i),le(i,r[17]),s(e,v),s(e,n),s(t,E),s(t,u),s(u,h),s(u,w),s(u,O),s(u,b),s(u,_),s(u,B),s(u,g),le(g,r[5]),s(u,I),s(u,J),s(u,$),s(u,M),le(M,r[6]),s(u,oe),s(u,ee),s(u,se),s(u,q),s(u,F),p&&p.m(u,null),H||(k=[j(i,"input",r[37]),j(n,"click",r[38]),j(O,"change",r[39]),j(g,"input",r[40]),j(M,"input",r[41]),j(ee,"click",$e(r[19])),j(q,"click",r[20])],H=!0)},p(C,K){K[0]&131072&&i.value!==C[17]&&le(i,C[17]),K[0]&32&&g.value!==C[5]&&le(g,C[5]),K[0]&64&&M.value!==C[6]&&le(M,C[6]),C[4]?p?p.p(C,K):(p=ye(C),p.c(),p.m(u,null)):p&&(p.d(1),p=null)},d(C){C&&S(t),p&&p.d(),H=!1,pe(k)}}}function ye(r){let t,e,l="Uploaded Image:",m,f,i;return{c(){t=c("div"),e=c("h2"),e.textContent=l,m=T(),f=c("img"),this.h()},l(v){t=d(v,"DIV",{class:!0});var n=L(t);e=d(n,"H2",{"data-svelte-h":!0}),x(e)!=="svelte-nk79ll"&&(e.textContent=l),m=D(n),f=d(n,"IMG",{src:!0,alt:!0}),n.forEach(S),this.h()},h(){de(f.src,i=r[4])||o(f,"src",i),o(f,"alt","Uploaded Image"),o(t,"class","image-preview")},m(v,n){ie(v,t,n),s(t,e),s(t,m),s(t,f)},p(v,n){n[0]&16&&!de(f.src,i=v[4])&&o(f,"src",i)},d(v){v&&S(t)}}}function Oe(r){let t,e,l="Edit",m,f;function i(){return r[42](r[52])}return{c(){t=c("form"),e=c("button"),e.textContent=l,this.h()},l(v){t=d(v,"FORM",{class:!0});var n=L(t);e=d(n,"BUTTON",{"data-svelte-h":!0}),x(e)!=="svelte-wogeie"&&(e.textContent=l),n.forEach(S),this.h()},h(){o(t,"class","form-group")},m(v,n){ie(v,t,n),s(t,e),m||(f=j(e,"click",i),m=!0)},p(v,n){r=v},d(v){v&&S(t),m=!1,f()}}}function Pe(r){let t,e,l=r[52].name+"",m,f,i,v,n,N,E,u=r[52].description+"",h,y,w,O,b,_=r[15]&&Oe(r);function P(){return r[43](r[52])}function B(){return r[44](r[52])}return{c(){t=c("div"),e=c("h3"),m=fe(l),f=T(),i=c("img"),N=T(),E=c("p"),h=fe(u),y=T(),_&&_.c(),w=T(),this.h()},l(g){t=d(g,"DIV",{class:!0});var I=L(t);e=d(I,"H3",{});var J=L(e);m=me(J,l),J.forEach(S),f=D(I),i=d(I,"IMG",{src:!0,alt:!0}),N=D(I),E=d(I,"P",{});var G=L(E);h=me(G,u),G.forEach(S),y=D(I),_&&_.l(I),w=D(I),I.forEach(S),this.h()},h(){de(i.src,v=r[52].url)||o(i,"src",v),o(i,"alt",n=r[52].name),o(t,"class","image-item"),Se(t,"selected",r[29](r[52].url))},m(g,I){ie(g,t,I),s(t,e),s(e,m),s(t,f),s(t,i),s(t,N),s(t,E),s(E,h),s(t,y),_&&_.m(t,null),s(t,w),O||(b=[j(t,"click",P),j(t,"dblclick",B)],O=!0)},p(g,I){r=g,I[0]&262144&&l!==(l=r[52].name+"")&&ge(m,l),I[0]&262144&&!de(i.src,v=r[52].url)&&o(i,"src",v),I[0]&262144&&n!==(n=r[52].name)&&o(i,"alt",n),I[0]&262144&&u!==(u=r[52].description+"")&&ge(h,u),r[15]?_?_.p(r,I):(_=Oe(r),_.c(),_.m(t,w)):_&&(_.d(1),_=null),I[0]&537133056&&Se(t,"selected",r[29](r[52].url))},d(g){g&&S(t),_&&_.d(),O=!1,pe(b)}}}function qe(r){let t,e,l,m,f,i,v,n,N,E,u,h,y="Close",w,O;return{c(){t=c("div"),e=c("div"),l=c("img"),f=T(),i=c("p"),v=fe(r[9]),n=T(),N=c("p"),E=fe(r[10]),u=T(),h=c("button"),h.textContent=y,this.h()},l(b){t=d(b,"DIV",{class:!0});var _=L(t);e=d(_,"DIV",{class:!0});var P=L(e);l=d(P,"IMG",{src:!0,alt:!0}),f=D(P),i=d(P,"P",{});var B=L(i);v=me(B,r[9]),B.forEach(S),n=D(P),N=d(P,"P",{});var g=L(N);E=me(g,r[10]),g.forEach(S),u=D(P),h=d(P,"BUTTON",{class:!0,"data-svelte-h":!0}),x(h)!=="svelte-grll9o"&&(h.textContent=y),P.forEach(S),_.forEach(S),this.h()},h(){de(l.src,m=r[8])||o(l,"src",m),o(l,"alt","Enlarged Image"),o(h,"class","delete-button"),o(e,"class","modal-content"),o(t,"class","modal")},m(b,_){ie(b,t,_),s(t,e),s(e,l),s(e,f),s(e,i),s(i,v),s(e,n),s(e,N),s(N,E),s(e,u),s(e,h),w||(O=[j(h,"click",r[25]),j(e,"click",Ce(r[35])),j(t,"click",r[25])],w=!0)},p(b,_){_[0]&256&&!de(l.src,m=b[8])&&o(l,"src",m),_[0]&512&&ge(v,b[9]),_[0]&1024&&ge(E,b[10])},d(b){b&&S(t),w=!1,pe(O)}}}function Ve(r){let t,e,l,m,f,i="New Name:",v,n,N,E,u,h="New Description:",y,w,O,b,_="Update Details",P,B;return{c(){t=c("form"),e=c("div"),l=c("div"),m=c("div"),f=c("label"),f.textContent=i,v=T(),n=c("input"),N=T(),E=c("div"),u=c("label"),u.textContent=h,y=T(),w=c("input"),O=T(),b=c("button"),b.textContent=_,this.h()},l(g){t=d(g,"FORM",{class:!0});var I=L(t);e=d(I,"DIV",{class:!0});var J=L(e);l=d(J,"DIV",{class:!0});var G=L(l);m=d(G,"DIV",{class:!0});var $=L(m);f=d($,"LABEL",{for:!0,"data-svelte-h":!0}),x(f)!=="svelte-gjvibd"&&(f.textContent=i),v=D($),n=d($,"INPUT",{type:!0,id:!0,style:!0}),$.forEach(S),N=D(G),E=d(G,"DIV",{class:!0});var M=L(E);u=d(M,"LABEL",{for:!0,"data-svelte-h":!0}),x(u)!=="svelte-1088ga9"&&(u.textContent=h),y=D(M),w=d(M,"INPUT",{type:!0,id:!0,style:!0}),M.forEach(S),O=D(G),b=d(G,"BUTTON",{"data-svelte-h":!0}),x(b)!=="svelte-1wjan1r"&&(b.textContent=_),G.forEach(S),J.forEach(S),I.forEach(S),this.h()},h(){o(f,"for","newImageName"),o(n,"type","text"),o(n,"id","newImageName"),we(n,"width","80%"),o(m,"class","form-group"),o(u,"for","newImageDescription"),o(w,"type","text"),o(w,"id","newImageDescription"),we(w,"width","80%"),o(E,"class","form-group"),o(l,"class","modal-content"),o(e,"class","modal"),o(t,"class","form-group")},m(g,I){ie(g,t,I),s(t,e),s(e,l),s(l,m),s(m,f),s(m,v),s(m,n),le(n,r[12]),s(l,N),s(l,E),s(E,u),s(E,y),s(E,w),le(w,r[16]),s(l,O),s(l,b),P||(B=[j(n,"input",r[45]),j(w,"input",r[46]),j(b,"click",r[47]),j(l,"click",Ce(r[34])),j(e,"click",r[27])],P=!0)},p(g,I){I[0]&4096&&n.value!==g[12]&&le(n,g[12]),I[0]&65536&&w.value!==g[16]&&le(w,g[16])},d(g){g&&S(t),P=!1,pe(B)}}}function Be(r){let t,e,l,m,f,i,v="Close",n,N;return{c(){t=c("div"),e=c("div"),l=c("p"),m=fe(r[13]),f=T(),i=c("button"),i.textContent=v,this.h()},l(E){t=d(E,"DIV",{class:!0});var u=L(t);e=d(u,"DIV",{class:!0});var h=L(e);l=d(h,"P",{});var y=L(l);m=me(y,r[13]),y.forEach(S),f=D(h),i=d(h,"BUTTON",{"data-svelte-h":!0}),x(i)!=="svelte-sbuk8n"&&(i.textContent=v),h.forEach(S),u.forEach(S),this.h()},h(){o(e,"class","modal-content"),o(t,"class","modal")},m(E,u){ie(E,t,u),s(t,e),s(e,l),s(l,m),s(e,f),s(e,i),n||(N=[j(i,"click",r[31]),j(e,"click",Ce(r[33])),j(t,"click",r[31])],n=!0)},p(E,u){u[0]&8192&&ge(m,E[13])},d(E){E&&S(t),n=!1,pe(N)}}}function et(r){let t,e=r[2]&&De(r);return{c(){t=c("div"),e&&e.c(),this.h()},l(l){t=d(l,"DIV",{class:!0});var m=L(t);e&&e.l(m),m.forEach(S),this.h()},h(){o(t,"class","profile")},m(l,m){ie(l,t,m),e&&e.m(t,null)},p(l,m){l[2]?e?e.p(l,m):(e=De(l),e.c(),e.m(t,null)):e&&(e.d(1),e=null)},i:Ue,o:Ue,d(l){l&&S(t),e&&e.d()}}}function tt(r,t,e){let l,m="",f="",i,v="",n=[],N="",E="",u="",h=[],y=!1,w="",O="",b="",_=!1,P="",B="",g=!1,I=!1,J="",G="";const $=async()=>{try{const a=localStorage.getItem("currentUserId"),{data:U,error:V}=await W.from("users").select("savedImages").eq("id",a).single();if(V){console.error("User not found:",V);return}const Y=U.savedImages||[],Z=Y.map(Q=>({imageName:Q[0],imageDescription:Q[1],imageUrl:Q[2],userId:Q[3],userName:Q[4]})),X=JSON.parse(localStorage.getItem("likedImages")||"[]");if(X.length===0)localStorage.setItem("likedImages",JSON.stringify(Z));else{const Q=X.filter(Ee=>!Z.some(_e=>_e.imageUrl===Ee.imageUrl)),re=Z.filter(Ee=>!X.some(_e=>_e.imageUrl===Ee.imageUrl)),ce=[...Y,...Q],{error:ae}=await W.from("users").update({savedImages:ce}).eq("id",a);if(ae){console.error("Error updating user data:",ae.message);return}const ne=[...X,...re];localStorage.setItem("likedImages",JSON.stringify(ne))}}catch(a){console.error("Error loading saved images from database:",a.message)}},M=async()=>{if(!i){e(13,B="Please select an image to upload."),e(14,g=!0);return}if(!N.trim()){e(13,B="Please enter a painting name."),e(14,g=!0);return}if(N.trim().length>30){e(13,B="The painting name cannot exceed 30 characters."),e(14,g=!0);return}if(E.trim().length>400){e(13,B="The description cannot exceed 400 characters."),e(14,g=!0);return}const{data:a,error:U}=await W.storage.from("images").upload(`public/${i.name}`,i,{cacheControl:"3600",upsert:!1});if(U)return e(14,g=!0),e(13,B="Image already exists on this website"),console.error("Error uploading image:",U.message);const{data:V,error:Y}=await W.storage.from("images").getPublicUrl(`public/${i.name}`);if(Y)return console.error("Error getting public URL:",Y.message);e(4,v=V.publicUrl);const{data:Z,error:X}=await W.from("images").insert([{name:N,imageUrl:v,description:E,userId:f.id}]);if(X)return console.error("Error inserting image data:",X.message);A()},oe=async()=>{if(!h.length)return e(13,B="Please select images to delete"),e(14,g=!0),console.error("Please select images to delete.");try{const a=localStorage.getItem("currentUserId");for(const U of h){const V=U.split("/").pop();await W.storage.from("images").remove(`public/${V}`),await W.from("images").delete().eq("imageUrl",U).eq("userId",a);const{data:Y,error:Z}=await W.from("users").select("savedImages").eq("id",a).single();if(Z){console.error("User not found:",Z);continue}const Q=(Y.savedImages||[]).filter(ae=>ae[2]!==U);await W.from("users").update({savedImages:Q}).eq("id",a);const ce=JSON.parse(localStorage.getItem("likedImages")||"[]").filter(ae=>ae.imageUrl!==U);localStorage.setItem("likedImages",JSON.stringify(ce))}h=[],A(),p()}catch(a){console.error("Error deleting images:",a.message)}},ee=async(a,U)=>{if(!a.trim())return console.error("Please enter a new name for the image.");if(O===a&&b===U)return p();const V={};O!==a&&(V.name=a),b!==U&&(V.description=U);const{data:Y,error:Z}=await W.from("images").update(V).eq("imageUrl",w).eq("userId",f.id);if(Z)return console.error("Error updating image details:",Z.message);const X=n.findIndex(ue=>ue.url===w);X!==-1&&(V.name&&e(32,n[X].name=a,n),V.description&&e(32,n[X].description=U,n));const Q=localStorage.getItem("currentUserId"),{data:re,error:ce}=await W.from("users").select("savedImages").eq("id",Q).single();if(ce){console.error("User not found:",ce);return}const ne=(re.savedImages||[]).map(ue=>ue[2]===w?[a,U,w,f.id,f.name]:ue);await W.from("users").update({savedImages:ne}).eq("id",Q);const _e=JSON.parse(localStorage.getItem("likedImages")||"[]").map(ue=>ue.imageUrl===w?{...ue,imageName:a,description:U}:ue);localStorage.setItem("likedImages",JSON.stringify(_e)),p()},A=async()=>{var a,U;try{const{data:V,error:Y}=await W.auth.getSession();if(Y||!((U=(a=V==null?void 0:V.session)==null?void 0:a.user)!=null&&U.id)){console.error("Error fetching user session:",Y);return}const Z=V.session.user.id,{data:X,error:Q}=await W.from("images").select("name, imageUrl, description").eq("userId",Z);if(Q){console.error("Error fetching images:",Q);return}e(32,n=X.map(re=>({name:re.name,url:re.imageUrl,description:re.description,selected:!1})))}catch(V){console.error("Error fetching images:",V)}},se=async()=>{var X,Q;const{data:a,error:U}=await W.auth.getSession();if(U||!((Q=(X=a==null?void 0:a.session)==null?void 0:X.user)!=null&&Q.id))return console.error("Error fetching user session:",U),window.location.href="/login";const V=a.session.user.id,{data:Y,error:Z}=await W.from("users").select("name, email, id").eq("id",V).single();if(Z){console.error("Error checking existing user:",Z);return}e(1,m=Y.name),localStorage.setItem("currentUserId",Y.id),localStorage.setItem("currentUserName",Y.name),localStorage.setItem("currentUserEmail",Y.email),$()},q=async a=>{if(!a.trim())return console.error("Please enter a new username.");if(m===a)return;const U={name:a},{data:V,error:Y}=await W.from("users").update(U).eq("id",f.id);if(Y)return console.error("Error updating username:",Y.message);e(1,m=a);const{data:Z,error:X}=await W.from("users").select("id, savedImages");if(X){console.error("Error fetching user records:",X);return}for(const Q of Z){const re=Q.id,ae=(Q.savedImages||[]).map(ne=>ne[3]===re?[ne[0],ne[1],ne[2],re,a]:ne);await W.from("users").update({savedImages:ae}).eq("id",re),re===f.id&&localStorage.setItem("likedImages",JSON.stringify(ae))}},z=async()=>{localStorage.clear(),await W.auth.signOut(),e(2,f=null),window.location.href="/login"},F=(a,U,V)=>{e(8,w=a),e(9,O=U),e(10,b=V),e(7,y=!0)},H=()=>{e(7,y=!1),e(8,w="")},k=(a,U,V)=>{e(8,w=a),e(9,O=U),e(10,b=V),e(12,P=U),e(16,J=V),e(11,_=!0)},p=()=>{e(11,_=!1),e(8,w=""),e(9,O="")},C=a=>{const U=h.indexOf(a);U!==-1?h.splice(U,1):h=[...h,a],A()};Xe(()=>{W.auth.onAuthStateChange((a,U)=>{e(2,f=(U==null?void 0:U.user)||"")}),se(),A()});const K=a=>h.findIndex(U=>U===a)!==-1,te=()=>{e(15,I=!I)};function R(){e(14,g=!1)}function ve(a){ke.call(this,r,a)}function Ie(a){ke.call(this,r,a)}function be(a){ke.call(this,r,a)}function he(){u=this.value,e(0,u)}function Me(){G=this.value,e(17,G)}const Ae=()=>q(G),je=a=>e(3,i=a.target.files[0]);function Je(){N=this.value,e(5,N)}function Fe(){E=this.value,e(6,E)}const Re=a=>k(a.url,a.name),Ge=a=>C(a.url),He=a=>F(a.url,a.name,a.description);function ze(){P=this.value,e(12,P)}function Ke(){J=this.value,e(16,J)}const Qe=()=>ee(P,J);return r.$$.update=()=>{r.$$.dirty[0]&1|r.$$.dirty[1]&2&&e(18,l=n.filter(a=>a.name.toLowerCase().includes(u.toLowerCase())))},[u,m,f,i,v,N,E,y,w,O,b,_,P,B,g,I,J,G,l,M,oe,ee,q,z,F,H,k,p,C,K,te,R,n,ve,Ie,be,he,Me,Ae,je,Je,Fe,Re,Ge,He,ze,Ke,Qe]}class ot extends Ye{constructor(t){super(),Ze(this,t,tt,et,We,{},null,[-1,-1])}}export{ot as component};
